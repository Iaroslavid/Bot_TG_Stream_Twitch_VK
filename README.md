# Bot_TG_Stream_Twitch_VK
–≠—Ç–æ Telegram-–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–¥–æ–º–ª—è–µ—Ç –∑—Ä–∏—Ç–µ–ª–µ–π –æ –Ω–∞—á–∞–ª–µ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ç–≤–æ–∏—Ö —Å—Ç—Ä–∏–º–æ–≤ –Ω–∞ Twitch –∏ VK Play. –û–Ω –ø—Ä–∏—Å—ã–ª–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–∏, —Å—Å—ã–ª–∫–∞–º–∏ –∏ –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–æ–º –≤–∏–¥–µ–æ –≤ Telegram-—á–∞—Ç–µ. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –ü–ö, —Ä–∞–±–æ—Ç–∞–µ—Ç —Å OBS, –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–Ω–æ–º–µ–Ω –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç —Å–µ—Ä–≤–µ—Ä–æ–≤.
## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

``` bash
git clone https://github.com/<—Ç–≤–æ–π_–Ω–∏–∫>/StreamTwitch.git
cd StreamTwitch
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

``` bash
python -m venv .venv
.venv\Scripts\activate
pip install -r requirements.txt
```

------------------------------------------------------------------------

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env

–û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª `.env` –∏ –≤–≤–µ–¥–∏ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è :

``` env
TELEGRAM_BOT_TOKEN=—Ç–≤–æ–π_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
TELEGRAM_CHAT_ID=...

TWITCH_USER=...
TWITCH_CLIENT_ID=...
TWITCH_ACCESS_TOKEN=...

OBS_HOST=localhost(–ø—Ä–∏–º–µ—Ä)
OBS_PORT=4455(–ø—Ä–∏–º–µ—Ä)
OBS_PASSWORD=...
VKPLAY_USER=...

CHECK_INTERVAL_SECONDS=30(–ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–≤–∏—á –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥, –º–æ–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å/—É–≤–µ–ª–∏—á–∏—Ç—å)
```

------------------------------------------------------------------------

## –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

### Telegram

1.  –°–æ–∑–¥–∞–π –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather)
2.  –ü–æ–ª—É—á–∏ —Ç–æ–∫–µ–Ω (`TELEGRAM_BOT_TOKEN`)
3.  –î–æ–±–∞–≤—å –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É –∏ —É–∑–Ω–∞–π `chat_id` —á–µ—Ä–µ–∑
    [@RawDataBot](https://t.me/RawDataBot)

### Twitch

1.  [–°–æ–∑–¥–∞–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ](https://dev.twitch.tv/console/apps)

2.  –°–∫–æ–ø–∏—Ä—É–π `Client ID` –∏ `Client Secret`

3.  –ü–æ–ª—É—á–∏ —Ç–æ–∫–µ–Ω:

    ``` bash
    curl -X POST "https://id.twitch.tv/oauth2/token" ^
    -d "client_id=–í–ê–®_CLIENT_ID" ^
    -d "client_secret=–í–ê–®_CLIENT_SECRET" ^
    -d "grant_type=client_credentials"
    ```

### üîπ OBS WebSocket (–¥–ª—è VK Play)

1.  –í OBS –≤–∫–ª—é—á–∏ —Å–µ—Ä–≤–µ—Ä WebSocket:

    -   –ü–æ—Ä—Ç: `4455`
    -   –ü–∞—Ä–æ–ª—å: `.......`

2.  –ü—Ä–æ–≤–µ—Ä—å –ø–æ—Ä—Ç:

    ``` bash
    netstat -ano | find "4455"
    ```

### VK Play

–°—Å—ã–ª–∫–∞ –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:

    https://....../<—Ç–≤–æ–π_–Ω–∏–∫>

------------------------------------------------------------------------

## –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫

``` bash
.venv\Scripts\activate
python app.py
```

–ï—Å–ª–∏ –≤–∏–¥–∏—à—å:

    üöÄ –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω: Twitch + VK Play
    ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—é Twitch –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥.
    üîå –ü–æ–¥–∫–ª—é—á–∞—é—Å—å –∫ OBS WebSocket (localhost:4455)...
    ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ OBS WebSocket.

--- –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç üéâ

------------------------------------------------------------------------

## –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –ü–ö

1.  –ü–æ–º–µ—Å—Ç–∏ —Ñ–∞–π–ª `start_bot.vbs` –≤ –ø–∞–ø–∫—É –∞–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∏:

        Win + R ‚Üí shell:startup

2.  –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –±–æ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –≤ —Ñ–æ–Ω–µ.

------------------------------------------------------------------------

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

    StreamTwitchBot/
    ‚îú‚îÄ‚îÄ app.py
    ‚îú‚îÄ‚îÄ requirements.txt
    ‚îú‚îÄ‚îÄ .env.example
    ‚îú‚îÄ‚îÄ start_bot.bat
    ‚îú‚îÄ‚îÄ start_bot.vbs
    ‚îî‚îÄ‚îÄ README.md

------------------------------------------------------------------------

##  –ê–≤—Ç–æ—Ä

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –Ø—Ä–æ—Å–ª–∞–≤–æ–º –í–∞—Å–∫–∞–Ω–æ–º 
